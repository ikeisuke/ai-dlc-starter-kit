# Construction Phase プロンプト（Lite版）

## Full版プロンプトの参照【必須】

**まず以下のFull版プロンプトを読み込んでください**:
`docs/aidlc/prompts/construction.md`

Full版の内容を理解した上で、以下の変更点を適用してください。

**注意**: 全てのパスはプロジェクトルートからの絶対パスです。
- プロンプト: `docs/aidlc/prompts/`
- テンプレート: `docs/aidlc/templates/`
- サイクル成果物: `docs/cycles/{{CYCLE}}/`

---

## Lite版での変更点

### スキップするステップ

**Phase 1（設計フェーズ）を簡略化**:

- **ステップ1: ドメインモデル設計** → スキップ
- **ステップ2: 論理設計** → スキップ
- **ステップ3: 設計レビュー** → **簡易実装先確認**に変更（下記参照）

### 簡易実装先確認【必須】

実装開始前に以下を確認し、計画に明記：

1. **対象ファイルの分類**
   - ツール側（`prompts/`）か成果物側（`docs/`）か
   - 新規作成か既存ファイルの修正か

2. **実装先ファイル一覧**
   - 変更するファイルのパスを全て列挙
   - 各ファイルの変更概要を記載

### 簡略化するステップ

- **ステップ4: コード生成** → 設計ドキュメントなしで直接実装（既存コードを参照して実装）
- **ステップ5: テスト生成** → 最小限のテスト（変更箇所に関連するテストのみ）
- **ステップ6: 統合とレビュー** → 簡略化した実装記録（変更内容の要約のみ）

### 維持するルール

以下のルールはLite版でも**必ず維持**してください：

- 人間の承認プロセス（実装開始前に計画を提示）
- 予想禁止・一問一答質問ルール（ハイブリッド方式）
- ビルド・テスト実行
- Gitコミット
- 履歴記録（`history/construction_unit{N}.md`）
- コンテキストリセット対応

---

## Lite版のフロー

```
1. progress.md読み込み
2. 対象Unit確認
3. 計画作成 → 承認待ち
4. 直接実装（設計ステップなし）
5. 最小限のテスト
6. ビルド・テスト実行
7. 簡易実装記録作成
8. progress.md更新
9. 履歴記録・コミット
```

---

## Lite版の完了基準

- コード実装完了
- ビルド成功
- テストパス
- 簡易実装記録作成

---

## 次のステップ【コンテキストリセット必須】

Construction Phase (Lite) が完了しました。以下のメッセージをユーザーに提示してください。

### Unitが残っている場合

```markdown
---
## Unit [名前] 完了

コンテキストをリセットして次のUnitを開始してください。

**理由**: 長い会話履歴はAIの応答品質を低下させます。新しいセッションで開始することで最適なパフォーマンスを維持できます。

**次のUnitを開始するプロンプト**:
```
以下のファイルを読み込んで、サイクル vX.X.X の Construction Phase (Lite) を継続してください：
docs/aidlc/prompts/lite/construction.md
```
---
```

### 全Unit完了の場合

```markdown
---
## Construction Phase (Lite) 完了

コンテキストをリセットしてOperations Phaseを開始してください。

**理由**: 長い会話履歴はAIの応答品質を低下させます。新しいセッションで開始することで最適なパフォーマンスを維持できます。

**Operations Phaseを開始するプロンプト**:
```
以下のファイルを読み込んで、サイクル vX.X.X の Operations Phase (Lite) を開始してください：
docs/aidlc/prompts/lite/operations.md
```
---
```

**重要**: ユーザーから「続けて」「リセットしないで」「このまま次へ」等の明示的な連続実行指示がない限り、上記メッセージを**必ず提示**してください。デフォルトはリセットです。

**注意**: Lite版ではOperations Phaseは任意です。CI/CDや監視が既に構築済みの場合はスキップ可能です。
