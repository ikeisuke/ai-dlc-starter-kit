# Intent 計画

## サイクル: v1.5.3

## 概要

バックログから11件の項目を対応予定。セットアップ体験の改善を最優先とし、AIレビュー機能の強化、開発基盤の整備も実施する。

## 作成予定の Intent

### プロジェクト名
AI-DLC スターターキット v1.5.3

### 開発の目的
AI-DLCスターターキットのセットアップ体験を大幅に改善し、バグを修正することで、ユーザーがスムーズに開発を開始できるようにする。併せて、AIレビュー機能の強化とCI/CD・監視基盤の整備を行い、品質と運用性を向上させる。

### ターゲットユーザー
AI-DLCスターターキットを使用してAI主導の開発を行う開発者

### ビジネス価値
1. **セットアップ時間の短縮**: バグ修正とUX改善により、セットアップでつまずく時間を削減
2. **品質向上**: AIレビュー機能の強化により、成果物の品質を自動的に担保
3. **運用効率化**: CI/CDと監視により、継続的な品質管理が可能に

### 成功基準（数値化・測定可能）

**セットアップ体験**:
- セットアップ手順: 5ステップ以内で完了可能
- エラー発生時: 明確なエラーメッセージとリカバリ手順を表示
- シェル互換性: bash/zsh両方で同一スクリプトが動作

**検証マトリクス**:
| 環境 | シェル | 検証対象 |
|-----|--------|---------|
| macOS | bash | セットアップ完了 |
| macOS | zsh | セットアップ完了 |
| Linux | bash | セットアップ完了 |

**AIレビュー**:
- mode=required時: 100%の確率でレビューが実行される
- レビュースキップ時: 警告メッセージを表示

**CI/CD**:
- PRマージ時: 自動でMarkdownリンターが実行される

### 制約事項
- 技術スタック: Markdown, Claude Code
- CI/CD: GitHub Actions
- 監視: GitHub Insights のみ（外部ツールは使用しない）
- 延期項目（ホームディレクトリ設定、Issue駆動統合）は対応しない

### 対応項目（11件）- 依存関係付き

**グループA: バグ修正（5件）- 最優先**

| # | 項目 | 依存関係 |
|---|-----|---------|
| 1 | setup.mdのスクリプトがzshで動作しない | なし |
| 2 | v1.5.1でsetup-cycle.md削除による後方互換性欠如 | なし |
| 3 | セットアップからInceptionへサイクル名が引き継がれない | なし |
| 4 | アップグレード後に自動でサイクル開始フローに入る | なし |
| 5 | AIレビュー必須設定が機能しないことがある | #9に関連 |

**グループB: worktree改善（2件）**

| # | 項目 | 依存関係 |
|---|-----|---------|
| 6 | worktreeは並列ディレクトリに作成すべき | なし |
| 7 | AI側でworktreeを作成する | #6 |

**フォールバック動作（#7）**:
- 権限エラー時: 手動実行コマンドを表示
- ディスク容量不足時: 警告を表示し中断
- 既存worktree検出時: 既存を使用するか確認

**グループC: AIレビュー強化（2件）- 同一優先度で実装**

| # | 項目 | 依存関係 |
|---|-----|---------|
| 8 | 人間レビュー前にAIレビューを必須化 | #5と同時対応 |
| 9 | ブランチ名からサイクルバージョンを自動推測 | なし |

**命名規則（#9）**:
- 対象形式: `cycle/vX.Y.Z`（セマンティックバージョニング）
- フォールバック: 形式不一致時はユーザーに質問

**グループD: 開発基盤（2件）**

| # | 項目 | 依存関係 | 範囲 |
|---|-----|---------|------|
| 10 | CI/CD構築 | なし | Markdownリンター + PRチェック |
| 11 | 監視・分析 | #10 | GitHub Insightsの活用案内のみ |

## 不明点と質問（Inception Phase中に記録）

[Question] 今回のサイクルで最も重視する方向性は？
[Answer] A. セットアップ改善優先 - バグ修正とworktree改善を最優先

[Question] 成功基準は？
[Answer] 全項目完了 - バックログの11件全てが実装されること

[Question] CI/CD構築の対象プラットフォームは？
[Answer] GitHub Actions

## レビュー履歴

### Codex MCPレビュー（2025-12-27）
- 成功基準を数値化・測定可能に修正
- 検証マトリクスを追加
- worktree作成のフォールバック動作を明文化
- AIレビュー関連の依存関係を明記
- 監視範囲をGitHub Insightsに限定
