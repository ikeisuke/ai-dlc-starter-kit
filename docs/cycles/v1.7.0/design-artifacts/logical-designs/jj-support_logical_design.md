# 論理設計: jj基本ワークフロー

## 概要

`prompts/package/guides/jj-support.md` のドキュメント構成と各セクションの詳細内容を設計する。

**重要**: このUnitはドキュメント作成タスクのため、コード実装ではなくドキュメント構成の設計を行う。

---

## ドキュメント構成

### ファイル配置

```text
prompts/package/guides/
└── jj-support.md    ← 新規作成
```

### セクション構成

```text
jj-support.md
├── 1. 概要
│   ├── jjとは
│   └── 実験的機能としての位置づけ
├── 2. 前提条件
│   ├── jjのインストール
│   └── Gitリポジトリとの共存設定
├── 3. jjの特徴と利点
│   ├── 自動コミット（ワーキングコピー）
│   ├── 操作の取り消し
│   ├── Git互換（colocate）
│   ├── コンフリクトの保存
│   ├── 匿名ブランチ
│   └── 安全なrebase
├── 4. Git/jjコマンド対照表
│   ├── 状態確認系
│   ├── ブランチ操作系
│   ├── コミット操作系
│   └── リモート操作系
├── 5. AI-DLCワークフローでの使用方法
│   ├── Setup Phase
│   ├── Inception Phase
│   ├── Construction Phase
│   └── Operations Phase
├── 6. 注意事項と制限
│   └── 既知の制限事項
└── 7. 参考リンク
```

---

## セクション詳細設計

### 1. 概要

**目的**: jjの基本的な説明と、AI-DLCでの位置づけを明確にする

**内容**:
- jjとは何か（1-2文の簡潔な説明）
- 実験的機能としての位置づけ（注意喚起）
- 対象読者（jjを試したい開発者）

### 2. 前提条件

**目的**: jjを使い始めるための準備手順を説明

**内容**:
- jjのインストール方法（外部リンク参照）
- colocateモードでの初期化コマンド
  - `jj git init --colocate`（新規リポジトリ）
  - `jj git init --git-repo=.`（既存Gitリポジトリ）

### 3. jjの特徴と利点

**目的**: jjを使うメリットをAI-DLC開発の観点から説明

**内容**:
- 6項目の特徴を表形式で整理
- 各特徴のAI-DLCでの具体的メリットを記載

### 4. Git/jjコマンド対照表

**目的**: Gitユーザーが即座にjjを使えるようにする

**内容**:
- 15件以上のコマンド対照
- 用途別に分類（状態確認、ブランチ操作、コミット操作、リモート操作）
- 必要に応じて備考欄で違いを補足

### 5. AI-DLCワークフローでの使用方法

**目的**: 各フェーズでのjjの具体的な使用方法を説明

**内容**:

#### Setup Phase
- サイクルブランチ作成手順
  ```text
  jj new main
  jj branch create cycle/vX.X.X
  jj git push --branch cycle/vX.X.X
  ```

#### Inception Phase
- ブランチ切り替え手順

#### Construction Phase
- コミット作成手順
- レビュー前/後のコミット

#### Operations Phase
- タグ作成とプッシュ
- mainへのマージ

### 6. 注意事項と制限

**目的**: 既知の制限事項と注意点を明示

**内容**:
- 実験的機能である旨の再強調
- Gitとの互換性に関する注意点
- チーム開発時の考慮事項（全員がjjを使う必要はない）
- AI-DLCプロンプト内のGitコマンドはそのまま残る（自動変換なし）

### 7. 参考リンク

**目的**: さらに学習したい人向けのリソース

**内容**:
- jj公式ドキュメント
- jj GitHubリポジトリ
- チュートリアル記事（任意）

---

## 技術選定

- **形式**: Markdown
- **配置先**: `prompts/package/guides/`（セットアップ時にコピーされる）

---

## 実装上の注意事項

1. **実験的機能の明示**: ドキュメント冒頭で実験的機能であることを明記
2. **Git優先の方針**: プロンプト本体のGitコマンドは変更しない（ガイドはあくまで補助資料）
3. **colocateモード前提**: Git/jj共存を前提とした説明
4. **簡潔さ**: 基本的なワークフローに絞り、高度な機能は外部リンクに委ねる

---

## 不明点と質問（設計中に記録）

（なし - 要件が明確）

---

作成日: 2026-01-11
