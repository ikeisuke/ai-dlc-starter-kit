# ユーザーストーリー

## Epic 1: AIエージェント連携強化

### ストーリー 1-1: AIエージェント許可リストガイドの提供
**優先順位**: Should-have

As a AI-DLCを使用する開発者
I want to 各AIエージェント向けの安全なコマンド許可リストを参照できる
So that 確認ダイアログを減らしてスムーズに開発を進められる

**受け入れ基準**:
- [ ] `prompts/package/guides/ai-agent-allowlist.md` が作成されている
- [ ] Claude Code、Cursor、Cline、Aider向けの設定方法が記載されている
- [ ] 読み取り専用、作成系、Git操作のカテゴリ別にコマンドが分類されている
- [ ] 除外すべき破壊的コマンドが明示されている

**技術的考慮事項**:
- 各AIエージェントの設定ファイル形式は異なるため、テンプレート方式で提供

---

## Epic 2: GitHub Issues連携

### ストーリー 2-1: Issueテンプレートの整備
**優先順位**: Should-have

As a AI-DLCを使用するチーム開発者
I want to サイクル・Unit単位でIssueを作成できる
So that 進捗をGitHub上で可視化し、チーム全体で共有できる

**受け入れ基準**:
- [ ] `.github/ISSUE_TEMPLATE/` ディレクトリが作成されている
- [ ] Epic用テンプレートが作成されている
- [ ] Unit用テンプレートが作成されている
- [ ] バグ報告用テンプレートが作成されている

**技術的考慮事項**:
- GitHub CLIが未認証の環境でもスキップ可能とする
- テンプレートはAI-DLCスターターキットに含まれ、セットアップ時にコピーされる

---

### ストーリー 2-2: Issue駆動フロー定義
**優先順位**: Could-have

As a AI-DLCを使用するプロジェクトマネージャー
I want to サイクル進行とIssueの連携フローを理解できる
So that Issue駆動開発をAI-DLCに統合できる

**受け入れ基準**:
- [ ] Issue駆動フローのドキュメントが作成されている
- [ ] サイクル開始時のIssue作成フローが定義されている
- [ ] Unit完了時のIssueクローズフローが定義されている

**技術的考慮事項**:
- 既存のプロンプト（inception.md, construction.md等）へのフック追加を検討

---

## Epic 3: バージョン管理システム拡張

### ストーリー 3-1: jj基本ワークフローの文書化
**優先順位**: Could-have

As a jjに興味を持つ先進的な開発者
I want to AI-DLCでjjを使用する方法を理解できる
So that 最新のバージョン管理ワークフローを採用できる

**受け入れ基準**:
- [ ] `prompts/package/guides/jj-support.md` が作成されている
- [ ] jjの特徴と利点が説明されている
- [ ] Git/jj両対応のコマンド対照表が含まれている
- [ ] AI-DLCワークフローとの互換性が説明されている

**技術的考慮事項**:
- 実験的機能として位置づけ、オプトインで利用可能
- Gitとの共存を前提とする

---

## Epic 4: メンテナンス性向上

### ストーリー 4-1: セットアッププロンプトパスの記録
**優先順位**: Should-have

As a AI-DLCをアップグレードする開発者
I want to 以前使用したセットアッププロンプトのパスを確認できる
So that アップグレード時に正しいプロンプトを使用できる

**受け入れ基準**:
- [ ] セットアップ時に使用したパスが `docs/aidlc.toml` に記録される
- [ ] Operations Phase完了時のメッセージで記録されたパスが参照される

**技術的考慮事項**:
- `[setup]` セクションを `aidlc.toml` に追加

---

### ストーリー 4-2: 旧形式バックログ移行時のバックアップ処理削除
**優先順位**: Must-have

As a AI-DLCの開発者
I want to 不要なバックアップファイルが作成されないようにしたい
So that gitで管理しているリポジトリをクリーンに保てる

**受け入れ基準**:
- [ ] `prompts/package/prompts/setup.md` からバックアップ作成ステップが削除されている
- [ ] 終了メッセージからバックアップ関連の文言が削除されている
- [ ] 移行成功時に旧ファイルが直接削除される

**技術的考慮事項**:
- gitで履歴が残るため、バックアップファイルは不要
