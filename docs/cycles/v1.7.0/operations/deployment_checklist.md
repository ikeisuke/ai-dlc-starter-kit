# デプロイチェックリスト

## デプロイ情報
- **バージョン**: v1.7.0
- **デプロイ環境**: GitHub（公開リポジトリ）
- **デプロイ方式**: mainブランチへのマージ + 自動タグ作成

## デプロイ前チェックリスト

### ドキュメント品質
- [ ] 全Unitの実装が完了している
- [ ] テンプレートの整合性が確認されている
- [ ] READMEが更新されている
- [ ] CHANGELOGが更新されている

### バージョン管理
- [ ] version.txtがサイクルバージョンと一致している（1.7.0）

### リリース前確認
- [ ] PRがドラフト状態で作成されている
- [ ] 全コミットがプッシュされている
- [ ] CIチェックがパスしている（該当する場合）

## デプロイ手順

### 1. バージョン確認
```bash
# version.txtの確認
cat version.txt
# 期待値: 1.7.0
```

### 2. ドラフトPRをReady for Reviewに変更
```bash
gh pr ready {PR番号}
gh pr edit {PR番号} --title "v1.7.0"
```

### 3. PRマージ
GitHub上でPRをレビュー・マージ

### 4. 自動タグ作成確認
mainブランチへのマージ後、GitHub Actionsが自動でv1.7.0タグを作成

## ロールバック手順

問題が発生した場合（mainブランチに既にマージ済みの場合）：

```bash
# 1. mainブランチに移動
git checkout main
git pull origin main

# 2. マージコミットをrevert
git revert -m 1 <merge-commit-hash>
git push origin main

# 3. リリースタグを削除（必要な場合）
git tag -d v1.7.0
git push origin --delete v1.7.0
```

**注意**: 公開リポジトリのため、force pushは避け、revertコミットで対応する

## デプロイ後チェックリスト
- [ ] タグが正しく作成されている
- [ ] GitHubリポジトリでv1.7.0が確認できる
- [ ] 新しいセットアップテストが成功する（別ディレクトリでクローン・セットアップ）

## v1.7.0の主な変更点

| Unit | 概要 |
|------|------|
| 001 | バックアップステップ削除 |
| 002 | AIエージェント許可リストガイド |
| 003 | バックログIssueテンプレート |
| 004 | setup-promptパス記録機能 |
| 005 | Issue駆動バックログフロー |
| 006 | jj基本ワークフローガイド |

## 備考

### メタ開発の注意点
このプロジェクトはメタ開発（AI-DLCスターターキットを使ってAI-DLC自体を開発）のため：

1. **ステップ6（リリース準備）の前に**、AI-DLC環境のアップグレードを実行する
   - `prompts/setup-prompt.md` を読み込んでrsyncを実行
   - `prompts/package/` の変更が `docs/aidlc/` に反映される
2. rsync後の変更をステップ6でコミット・PRに含める
