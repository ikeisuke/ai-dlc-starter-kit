# 完了済みバックログ

このファイルは、サイクルで対応が完了したバックログ項目を記録します。

---

## 完了済み技術的負債

### construction.md のパス参照不整合
- **発見日**: 2025-11-30
- **発見サイクル**: v1.1.0 Construction Phase
- **完了サイクル**: v1.2.0
- **完了日**: 2025-12-04
- **概要**: construction.md（または読み込み側の想定）でUnit定義ファイルのパスが実際の構造と異なる
- **対応内容**: Unit 1でconstruction.mdにUnit定義ファイルパスを追加

### セットアップ処理の分離
- **発見日**: 2025-12-01
- **発見サイクル**: v1.1.0 Operations Phase
- **完了サイクル**: v1.2.0
- **完了日**: 2025-12-04
- **概要**: ベースのプロンプト/テンプレート作成と各サイクル作成は別にできそう
- **対応内容**: Unit 3で初回セットアップ（setup-init.md）とサイクル開始（setup-cycle.md）を分離

### プロンプト生成方式の改善
- **発見日**: 2025-12-01
- **発見サイクル**: v1.1.0 Operations Phase
- **完了サイクル**: v1.2.0
- **完了日**: 2025-12-04
- **概要**: 出力用プロンプトは個別ファイルに出力しておいて、それをコピーしてから書き換える方がいいかも
- **対応内容**: Unit 5でprompts/package/ディレクトリを導入し、インラインテンプレートを外部ファイル化

### プロンプトの分割・短縮化
- **発見日**: 2025-12-01
- **発見サイクル**: v1.1.0 Operations Phase
- **完了サイクル**: v1.2.0
- **完了日**: 2025-12-04
- **概要**: AIがファイルを最後まで読まずに「なんとなく」で進める問題への対策
- **対応内容**: Unit 5でプロンプトを外部ファイル化し、セットアップ時はコピーするだけの方式に変更

### マージ後のタグ付け自動化
- **発見日**: 2025-12-02
- **発見サイクル**: v1.1.0 Operations Phase
- **完了サイクル**: v1.2.0
- **完了日**: 2025-12-05
- **概要**: mainマージ後にversion.txtを読んでタグを自動作成するGitHub Actionsを導入
- **対応内容**: Unit 7で.github/workflows/auto-tag.ymlを作成

### 変数の具体例を削除し変数のまま残す（セットアップテンプレート側の対応）
- **発見日**: 2025-12-02
- **発見サイクル**: v1.1.0 Operations Phase
- **完了サイクル**: v1.2.0
- **完了日**: 2025-12-04
- **概要**: プロンプト内の変数に具体例（v1.0.1等）があるとAIがそれに引っ張られる
- **対応内容**: Unit 4で変数置換方式自体を廃止し、設定ファイル参照方式に移行

### プロンプト/テンプレートのバージョン管理
- **発見日**: 2025-12-03
- **発見サイクル**: v1.2.0 セットアップ
- **完了サイクル**: v1.2.0
- **完了日**: 2025-12-05
- **概要**: プロンプトとテンプレートが更新されたかを判断できるようにバージョンを埋め込む
- **対応内容**: Unit 6でスキップ（単純コピー方式に変更したためバージョン埋め込み不要と判断）

### Inception PhaseでConstruction Phaseのprogressを作成する違和感
- **発見日**: 2025-12-05
- **発見サイクル**: v1.2.0 リリース後
- **完了サイクル**: v1.2.1
- **完了日**: 2025-12-06
- **概要**: Inception PhaseでConstruction Phaseの初期progressファイルを作成しているが、責務として違和感がある
- **対応内容**: Unit3でConstruction Phase開始時に自身でprogressファイルを作成するよう変更

### setup-init.md のプロジェクト情報収集をまとめて確認する形式に変更
- **発見日**: 2025-12-06
- **発見サイクル**: v1.2.0 メタ開発セットアップ時
- **完了サイクル**: v1.2.1
- **完了日**: 2025-12-06
- **概要**: 一問一答形式ではなく、デフォルト値を一覧表示して変更があるものだけ指定する形式に
- **対応内容**: Unit1でREADME.mdから推測した情報をテーブル形式で表示し、まとめて確認する形式に変更

### デグレ: prompt-reference-guide.md と operations/ 関連ファイルの欠落
- **発見日**: 2025-12-05
- **発見サイクル**: v1.2.0 リリース後
- **完了サイクル**: v1.2.1
- **完了日**: 2025-12-06
- **概要**: v1.2.0で欠落したファイルの復元または参照整理
- **対応内容**: Unit4でprompt-reference-guide.mdは不要と判断、operations/はdocs/cycles/operations.mdとして運用引き継ぎテンプレートを追加

### Operations Phaseでのバックログ完了項目移動
- **発見日**: 2025-12-06
- **発見サイクル**: v1.2.1 Inception Phase
- **完了サイクル**: v1.2.1
- **完了日**: 2025-12-06
- **概要**: Operations Phaseの完了処理でバックログの完了済み項目を別ファイルに移動する
- **対応内容**: Unit2でoperations.mdにバックログ整理手順を追加、サイクル固有バックログを導入

### Lite版サイクルの存在を案内に追加
- **発見日**: 2025-12-06
- **発見サイクル**: v1.2.2 準備
- **完了サイクル**: v1.2.2
- **完了日**: 2025-12-08（v1.2.3 Inception時に確認）
- **概要**: サイクル開始時の完了メッセージにLite版の案内がない
- **対応内容**: setup-cycle.md の完了メッセージにFull版とLite版の両方を案内

### Inception Phaseでサイクル固有バックログも確認するようにする
- **発見日**: 2025-12-06
- **発見サイクル**: v1.2.2 Inception
- **完了サイクル**: v1.2.2
- **完了日**: 2025-12-08（v1.2.3 Inception時に確認）
- **概要**: Inception Phaseのプロンプトでサイクル固有バックログの確認が漏れている
- **対応内容**: inception.md のステップ3にサイクル固有バックログ確認（3-2）を追加

---

## 完了済み延期タスク

### Lite版プロンプトのパス解決が不安定
- **発見日**: 2025-12-07
- **発見サイクル**: v1.2.3 Inception Phase
- **完了サイクル**: v1.2.3
- **完了日**: 2025-12-08
- **概要**: Lite版でファイルを探す際にパス解決が不安定だった問題
- **対応内容**: Unit 1でLite版プロンプトのファイルパスを明示的に指定、相対パスの基準を明確化

### フェーズ遷移ガードレール強化
- **発見日**: 2025-12-07
- **発見サイクル**: v1.2.3 Inception Phase
- **完了サイクル**: v1.2.3
- **完了日**: 2025-12-08
- **概要**: AIがフェーズを無視して先走り実装を始めてしまう問題
- **対応内容**: Unit 2で各プロンプトにガードレール追加、フェーズごとの許可アクションを明確化

### aidlc.toml に starter_kit_version フィールドがない
- **発見日**: 2025-12-07
- **発見サイクル**: v1.2.3 Inception Phase
- **完了サイクル**: v1.2.3
- **完了日**: 2025-12-08
- **概要**: aidlc.toml にバージョンフィールドが欠落していた
- **対応内容**: Unit 3でaidlc.tomlテンプレートにフィールド追加、setup-init.mdで自動生成

### 旧バージョンからの移行時にファイル削除確認がない
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3 Inception Phase
- **完了サイクル**: v1.2.3
- **完了日**: 2025-12-08
- **概要**: rsyncで削除されるファイルの確認なしに同期しようとした問題
- **対応内容**: Unit 4でアップグレード時に削除ファイル一覧を表示、ユーザー確認を必須化

### 日時記録時に毎回現在時刻を取得していない
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3 Inception Phase
- **完了サイクル**: v1.2.3
- **完了日**: 2025-12-09
- **概要**: AIが最初に取得した日時を使い回す問題
- **対応内容**: Unit 5でプロンプトに日時取得ルールを明記

### Inception Phaseステップ6削除
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3 Inception Phase
- **完了サイクル**: v1.2.3
- **完了日**: 2025-12-09
- **概要**: v1.2.1で対応済みのConstruction用進捗管理ファイル作成ステップが残っていた
- **対応内容**: Unit 6でinception.mdからステップ6を削除

### Unit作業中の気づき記録フローの定義
- **発見日**: 2025-12-06
- **発見サイクル**: v1.2.1 Construction Phase
- **完了サイクル**: v1.2.2
- **完了日**: 2025-12-08
- **概要**: Unit作業中に別Unitに関連する気づきがあった場合の動作を定義する
- **対応内容**: Unit 5でconstruction.mdに気づき記録フローを追加

### 初回セットアップ時のサイクルバージョン提案が不十分
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3
- **完了サイクル**: v1.3.0
- **完了日**: 2025-12-10
- **概要**: AI-DLC初回でもプロジェクト自体にはバージョンがある場合がある
- **対応内容**: Unit 2でsetup-prompt.mdにプロジェクトバージョン調査ステップを追加

### バックログ項目の対応済みチェックをInception Phaseで実施
- **発見日**: 2025-12-10
- **発見サイクル**: v1.3.0 Construction Phase
- **完了サイクル**: v1.3.1
- **完了日**: 2025-12-11
- **概要**: Inception Phaseでバックログ確認時に、過去サイクルで対応済みかどうかをチェックするフローを追加
- **対応内容**: Unit 1でinception.mdにバックログ対応済みチェック機能を実装

### ツールキットアップグレード以外はセットアップをスキップ可能にする
- **発見日**: 2025-12-10
- **発見サイクル**: v1.3.0 Operations Phase
- **完了サイクル**: v1.3.1
- **完了日**: 2025-12-11
- **概要**: AI-DLCツールキットのアップグレードが不要な場合、セットアップを経由せず直接Inception Phaseを開始可能に
- **対応内容**: Unit 2でinception.mdにサイクルディレクトリ自動作成機能を実装

### Inception PhaseでDependabot PRの対応を確認する
- **発見日**: 2025-12-10
- **発見サイクル**: v1.3.0 Operations Phase
- **完了サイクル**: v1.3.1
- **完了日**: 2025-12-12
- **概要**: Inception Phase開始時にDependabotのPRが溜まっていないか確認する機能
- **対応内容**: Unit 3でinception.mdにDependabot PR確認ステップを実装

### 全ファイルから「最終更新」セクションを廃止
- **発見日**: 2025-12-10
- **発見サイクル**: v1.3.0 Construction Phase
- **完了サイクル**: v1.3.2
- **完了日**: 2025-12-13
- **概要**: 「最終更新」セクションはGit履歴で代替可能であり、手動メンテナンスコストが高い
- **対応内容**: Unit 4でbacklog.md以外のファイル（テンプレート等）から「最終更新」セクションを削除

### アップグレード時に変更内容の要約を表示
- **発見日**: 2025-12-10
- **発見サイクル**: v1.3.0 Operations Phase
- **完了サイクル**: v1.3.2
- **完了日**: 2025-12-13
- **概要**: アップグレード時に追加・更新・削除されるファイルと変更内容の要約を表示
- **対応内容**: Unit 5でsetup-init.mdにrsync実行後の更新ファイル要約表示機能を追加

### コミットハッシュ記録に関する注意事項の追加
- **発見日**: 2025-12-11
- **発見サイクル**: v1.3.1 Inception Phase
- **完了サイクル**: v1.3.2
- **完了日**: 2025-12-13
- **概要**: Unit完了時のコミットハッシュ記録後に --amend や rebase すると記録が無効になる問題への注意書き
- **対応内容**: Unit 2でunit_definition_template.mdに注意書きを追加

### PRマージ後のブランチ削除をオペレーションルールに追加
- **発見日**: 2025-12-12
- **発見サイクル**: v1.3.1 Operations Phase
- **完了サイクル**: v1.3.2
- **完了日**: 2025-12-13
- **概要**: PRマージ後にマージ済みブランチを削除するルールを明確化
- **対応内容**: Unit 3でoperations.mdの「PRマージ後の手順」でブランチ削除を標準手順として明記

### Operations Phaseアップグレード処理でバージョン番号が更新されない問題の修正
- **発見日**: 2025-12-13
- **発見サイクル**: v1.3.1 アップグレード時
- **完了サイクル**: v1.3.2
- **完了日**: 2025-12-13
- **概要**: setup-initは実行していたが、aidlc.tomlのstarter_kit_versionが適切に更新されていなかった
- **対応内容**: Unit 1でsetup-init.mdのセクション6.3のsedコマンドを修正、更新確認ステップを追加

### セットアップ時のファイルコピー判定にハッシュ値を使用
- **発見日**: 2025-12-06
- **発見サイクル**: v1.2.1 Construction Phase
- **完了サイクル**: v1.4.0
- **完了日**: 2025-12-13
- **概要**: ファイルコピー時にSHA1などのハッシュ値で比較し、変更有無を判定する
- **対応内容**: rsync方式に移行したことで、ファイル変更判定が自動化され解消

