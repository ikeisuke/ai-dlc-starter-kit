# 追加ルール

このファイルは、AI-DLC Starter Kit プロジェクト固有の追加ルールや制約を記載します。

**重要**: セットアップ完了後、このファイルをプロジェクトに合わせてカスタマイズしてください。

---

## メタ開発の意識【最重要】

このプロジェクトは「AI-DLCスターターキットを使って、AI-DLCスターターキット自体を開発している」というメタ構造を持つ。

**この意識が薄れると起きる問題**:
- スターターキットの改善なのか、利用プロジェクトの実装なのか混同する
- テンプレートの変更が「次回セットアップ時に反映」されることを忘れる
- 自分自身のプロンプトを編集していることの影響範囲を見誤る
- **`docs/aidlc/` を直接編集してしまい、Operations Phase の rsync で変更が消える**

**常に確認すべきこと**:
- 今触っているファイルは「ツール側（`prompts/`）」か「成果物側（`docs/aidlc/`, `docs/cycles/`）」か
- **`docs/aidlc/` は `prompts/package/` の rsync コピーである（直接編集禁止）**
- プロンプト・テンプレートの修正は必ず `prompts/package/` を編集すること
- 変更が即時反映されるか、次回セットアップ時に反映されるか

---

## カスタムワークフロー

### Operations Phase 完了時の必須作業【重要】

このプロジェクトはメタ開発のため、Operations Phase の最後に以下を実行すること：

```
prompts/setup-prompt.md を読み込んで、AI-DLC 環境をアップグレードしてください
```

**理由**: `prompts/package/` で変更したプロンプト・テンプレートを `docs/aidlc/` に反映するため。

**タイミング**: ステップ6（リリース準備）の前に実行し、rsync による更新を適用してからコミット・PR作成を行う。

---

## コーディング規約

プロジェクトのコーディング規約を記載してください。

（例）
- 命名規則: lowerCamelCase、UPPER_SNAKE_CASE等
- フォーマットルール
- コメント記述ルール

---

## 使用ライブラリ・フレームワークの制約

使用するライブラリやフレームワークの制約を記載してください。

（例）
- 使用禁止ライブラリ
- 推奨ライブラリ
- バージョン制約

---

## セキュリティ要件

セキュリティに関する要件を記載してください。

（例）
- ユーザー入力は必ずバリデーション
- APIキーは環境変数で管理
- 認証・認可の実装方針

---

## パフォーマンス要件

パフォーマンスに関する要件を記載してください。

（例）
- レスポンスタイム目標値
- 負荷分散の考慮
- キャッシュ戦略

---

## AIレビューツールの使用ルール【重要】

AI-DLCプロンプトで「AIレビュー」や「MCPレビュー」を実行する際は、以下のルールに従うこと。

### 使用するツール

**Skill ツールの codex を使用する**（MCP ツールの `mcp__codex__codex` は使用しない）

```
Skill tool: skill="codex"
```

### 理由

- MCP ツール（`mcp__codex__codex`）は応答が返らない場合がある
- Skill ツールの codex は安定して動作する

### 使用例

```
レビュー対象のファイルを指定して、codex skill を呼び出す
```

---

## その他のプロジェクト固有制約

その他、プロジェクト固有の制約があればここに記載してください。
