# 追加ルール

このファイルは、AI-DLC Starter Kit プロジェクト固有の追加ルールや制約を記載します。

**重要**: セットアップ完了後、このファイルをプロジェクトに合わせてカスタマイズしてください。

---

## メタ開発の意識【最重要】

このプロジェクトは「AI-DLCスターターキットを使って、AI-DLCスターターキット自体を開発している」というメタ構造を持つ。

**この意識が薄れると起きる問題**:
- スターターキットの改善なのか、利用プロジェクトの実装なのか混同する
- テンプレートの変更が「次回セットアップ時に反映」されることを忘れる
- 自分自身のプロンプトを編集していることの影響範囲を見誤る

**常に確認すべきこと**:
- 今触っているファイルは「ツール側（`prompts/`）」か「成果物側（`docs/aidlc/`, `docs/cycles/`）」か
- `docs/aidlc/` は `prompts/` の実行により生成される成果物である
- 変更が即時反映されるか、次回セットアップ時に反映されるか

---

## 実行前の検証ルール

### Codex MCPレビュー（該当する場合）

Codex MCPが利用可能な場合、重要な操作の前にレビューを実施：
- 大規模なコード変更
- アーキテクチャ変更
- セキュリティに関わる変更

### 指示の妥当性検証

実行前に以下を確認：
- 指示が明確で実行可能か
- リスクや副作用はないか
- 既存成果物との整合性

---

## フェーズ固有のルール

### Inception Phase

- Intent作成時は対話形式で不明点を明確化
- ユーザーストーリーはシンプルに保つ（1ストーリー = 1機能）
- Unit定義では依存関係を明確に記載

### Construction Phase

- 設計と実装を明確に分離（Phase 1で設計、Phase 2で実装）
- ドメインモデル設計時はコードを書かない
- テストはBDD/TDDに従う

### Operations Phase

- デプロイ前に必ずチェックリストを確認
- 監視・ロギングを最初から設定
- ロールバック手順を必ず用意

---

## 禁止事項

以下の行為は禁止：
- 既存履歴の削除・上書き（history.mdは必ず追記のみ）
- 承認なしでの次ステップ開始
- 独自判断での重要な決定（必ず質問する）
- コンテキスト制限を超える大量のファイル読み込み

---

## カスタムワークフロー

プロジェクト固有のワークフローがあれば、ここに記載してください。

（例）
- コードレビュープロセス
- デプロイ承認フロー
- セキュリティチェック手順

---

## コーディング規約

プロジェクトのコーディング規約を記載してください。

（例）
- 命名規則: lowerCamelCase、UPPER_SNAKE_CASE等
- フォーマットルール
- コメント記述ルール

---

## 使用ライブラリ・フレームワークの制約

使用するライブラリやフレームワークの制約を記載してください。

（例）
- 使用禁止ライブラリ
- 推奨ライブラリ
- バージョン制約

---

## セキュリティ要件

セキュリティに関する要件を記載してください。

（例）
- ユーザー入力は必ずバリデーション
- APIキーは環境変数で管理
- 認証・認可の実装方針

---

## パフォーマンス要件

パフォーマンスに関する要件を記載してください。

（例）
- レスポンスタイム目標値
- 負荷分散の考慮
- キャッシュ戦略

---

## その他のプロジェクト固有制約

その他、プロジェクト固有の制約があればここに記載してください。
