# Unit 002 実装計画: operations.mdサイズ最適化

## 概要

operations.mdの冗長な説明を簡略化し、1029行から1000行以下に収める。

## 現状分析

- **現在の行数**: 1029行
- **目標行数**: 1000行以下
- **必要削減量**: 30行以上

## 変更対象ファイル

- `prompts/package/prompts/operations.md`（編集対象）
- `prompts/package/guides/dependency-commands.md`（新規作成 - 付録の移動先）

## 実装計画

### 削減戦略

1. **付録の外部ファイル化**（約100行削減）
   - 「付録: 依存コマンド追加手順」セクション（128行）をガイドファイルに移動
   - operations.mdには参照リンクのみ残す

2. **冗長な説明の簡略化**（約10-20行削減）
   - 重複するコード例の統合
   - 詳細なエラーメッセージ例の簡略化
   - 他の共通ファイルと重複する説明の削減

### 削減対象箇所の詳細

| 箇所 | 現在の行数 | 削減方法 | 削減見込み |
|------|------------|----------|------------|
| 付録: 依存コマンド追加手順 | 128行 | 外部ファイル化 | ~100行 |
| バージョン確認コマンド例 | 8行 | 3行に簡略化 | ~5行 |
| その他冗長な説明 | - | 文言簡略化 | ~5行 |
| **合計** | - | - | **~110行** |

### 保持すべきセクション（削除禁止）

- `## 最初に必ず実行すること`
- `## フロー`
- `### ステップ1〜6` の各ステップ
- `## 完了基準`
- `## 完了時の確認`
- `## このフェーズに戻る場合`
- `## AI-DLCサイクル完了`

### 保持すべきキーワード（存在確認）

- `CI/CD` - CI/CD設定に関する記述 ✓
- `監視` - 監視設定に関する記述 ✓
- `CHANGELOG` - リリースノート更新に関する記述 ✓
- `git tag` / `version_tag` - タグ付けに関する記述 ✓

## 完了条件チェックリスト

- [x] 冗長な説明文の簡略化
- [x] 重複する注意書きの削減
- [x] 過度に詳細な例示の簡略化
- [x] 最終行数が1000行以下であること（807行達成）
- [x] 必須セクションがすべて存在すること
- [x] 重要キーワードがすべて存在すること

## 検証結果

### 行数

- 変更前: 1029行
- 変更後: 807行（222行削減、21.6%削減）

### 必須セクション確認

すべて存在を確認済み。

### 重要キーワード確認

| キーワード | 存在 |
|-----------|------|
| CI/CD | ✓ |
| 監視 | ✓ |
| CHANGELOG | ✓ |
| git tag / version_tag | ✓ |

## リスク

- 簡略化により必要な情報が欠落するリスク → 必須セクション・キーワードのチェックで対応
