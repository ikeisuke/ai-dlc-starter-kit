# Intent（開発意図）

## プロジェクト名
AI-DLC Starter Kit v1.2.3

## 開発の目的
運用中に発見された5つの問題点を修正し、AIの動作安定性と開発者体験を向上させる。

## ターゲットユーザー
AI-DLCスターターキットを使用してAI駆動開発を行う開発者

## ビジネス価値
- AIの動作が安定し、開発効率が向上する
- フェーズ遷移の誤りによる手戻りが減少する
- バージョン管理・移行作業が安全になる
- 履歴の日時記録が正確になり、トレーサビリティが向上する

## 成功基準
- 各項目の問題が再現しなくなること
- 既存機能への影響がないこと（デグレなし）
- パッチバージョンとして破壊的変更がないこと

## 期限とマイルストーン
パッチリリースとしてまとめてリリース

## 制約事項
- パッチバージョンのため破壊的変更は行わない
- 依存関係に基づく実行順序のみ、それ以外の順序指定なし

## 対象項目

### 1. Lite版プロンプトのパス解決が不安定（優先度: 中）
- **概要**: Lite版でファイルを探す際、1つ上のディレクトリから探し始めて「見つからない」と言ってから正しいパスを掘り下げるという非効率な動作が発生
- **対応方針**: Lite版プロンプトでファイルパスをより明示的に指定、相対パスの基準ディレクトリを明確化

### 2. フェーズ遷移のガードレールが不足（優先度: 高）
- **概要**: AIがフェーズを無視して先走り実装を始めてしまう問題
- **対応方針**: 各プロンプトに「このフェーズでは実装しない」等のガードレール追加、フェーズごとの許可アクションを明確化

### 3. aidlc.toml に starter_kit_version フィールドがない（優先度: 中）
- **概要**: setup-prompt.md で starter_kit_version フィールドを参照するが、aidlc.toml にはコメントとしてのみ記載
- **対応方針**: aidlc.toml テンプレートに `starter_kit_version` フィールドを追加、setup-init.md でフィールドを生成

### 4. 旧バージョンからの移行時にファイル削除確認がない（優先度: 高）
- **概要**: 1.1以前の古い仕組みからアップデートした時、rsyncで削除されるファイルを確認なしに同期しようとした
- **対応方針**: アップグレード時にrsyncで削除されるファイル一覧をユーザーに表示、削除前に必ずユーザー確認を求める

### 5. 日時記録時に毎回現在時刻を取得していない（優先度: 中）
- **概要**: AIが最初に取得した日時をセッション中ずっと使い回し、実際の時刻とずれる
- **対応方針**: プロンプトに「日時を記録する際は必ず `date` コマンドで現在時刻を取得すること」を明記

### 6. Inception PhaseにConstruction用進捗管理ファイル作成が残っている（優先度: 中）
- **概要**: v1.2.1で対応済みのはずがinception.mdにステップ6として残っている
- **対応方針**: inception.mdからステップ6を削除（Construction Phaseで自身が作成する責務）

## 不明点と質問（Inception Phase中に記録）

[Question] これら5項目の修正で、特に優先して対応すべき順序や、追加の制約・要件はありますか？
[Answer] 依存関係で設定する以外の順番指定なし、まとめてリリース
