# Unit: テストとバグ対応基盤

## 概要
Operations Phaseでのテスト実施時に使用する記録フォーマットを提供し、バグ発見時の対応フローを明確化する。

## 含まれるユーザーストーリー
- ストーリー 5.1: テスト記録フォーマットの提供
- ストーリー 5.2: バグ対応フローの文書化

## 責務
- テスト記録テンプレートの作成（`docs/aidlc/templates/test_record_template.md`）
- バグ対応フロー文書の作成（`docs/aidlc/bug-response-flow.md`）
- Operations Phaseプロンプトへのテスト記録指示の追加
- 各フェーズプロンプトのバックトラックセクションとの整合性確保

## 境界
- テストの自動化は含まない（手動テストの記録のみ）
- CI/CDとの統合は含まない（将来の拡張）
- バグ修正の実装は含まない（フローの文書化のみ）

## 依存関係

### 依存する Unit
なし

### 外部依存
- Markdown形式のテンプレート
- フローチャート作成ツール（Mermaid等、オプション）

## 非機能要件（NFR）
- **パフォーマンス**: 特別な要件なし
- **セキュリティ**: 特別な要件なし
- **スケーラビリティ**: 数百のテスト項目に対応可能
- **可用性**: テンプレートとフローが常にアクセス可能

## 技術的考慮事項
- **テスト記録テンプレート**:
  - チェックリスト形式（`- [ ]`）で進捗を可視化
  - テスト項目、結果、バグ記録欄を含む
  - 再現手順、期待結果、実際の結果を記録

- **バグ対応フロー**:
  - バグの種類別の対応フロー（設計バグ、実装バグ、環境バグ）
  - どのフェーズに戻るかの判断基準：
    - 設計バグ → Construction Phase（Phase 1: 設計）に戻る
    - 実装バグ → Construction Phase（Phase 2: 実装）に戻る
    - 環境バグ → Operations Phaseで修正
  - バグ修正の記録方法（history.mdへの追記）
  - 再テストの手順

- **各フェーズプロンプトとの統合**:
  - Construction Phaseの「このフェーズに戻る場合 - Operations Phaseからバグ修正で戻ってきた場合」セクションと連携
  - Operations Phaseの「このフェーズに戻る場合 - Constructionに戻る必要がある場合」セクションと連携

## 実装優先度
High（最優先）

## 見積もり
- テスト記録テンプレート作成: 1時間
- バグ対応フロー文書作成: 2時間
- Operations Phaseプロンプト更新: 0.5時間
- 整合性確認: 0.5時間
- 合計: 4時間
