# 論理設計: バックログ完了項目移動

## 概要
サイクル固有のバックログを導入し、Operations Phase完了時に共通バックログ・完了済みバックログへ整理する仕組みを構築する。

**重要**: この論理設計では**コードは書かず**、コンポーネント構成とインターフェース定義のみを行います。

## 設計方針

### 課題
- バックログの移動忘れ
- 複数サイクル並行時のコンフリクト

### 解決策
- サイクル固有バックログを導入（サイクル中は自分のファイルのみ編集）
- Operations Phase完了時に共通バックログへ反映（マージ直前の1回だけ）

## コンポーネント構成

### ファイル構成

```
docs/cycles/
├── backlog.md              # 共通バックログ（未対応）
├── backlog-completed.md    # 完了済みバックログ
└── v1.2.1/
    └── backlog.md          # サイクル固有バックログ【新規】
```

### サイクル固有バックログの構造

```markdown
# サイクル {{CYCLE}} バックログ

## このサイクルで発見した項目
（サイクル中に気づいた改善点・技術的負債）

## 共通バックログから対応する項目
（Inception Phase等で共通バックログから選んだ項目を転記）

## 最終更新
```

## 処理フロー

### 1. サイクル中の記録
- 気づいた項目 → 「このサイクルで発見した項目」に追記
- 共通バックログから対応を決めた項目 → 「共通バックログから対応する項目」に転記

### 2. Operations Phase完了時の整理

#### 「このサイクルで発見した項目」の処理
| 状態 | 移動先 |
|------|--------|
| 対応済み | backlog-completed.md |
| 未対応 | backlog.md（共通） |

#### 「共通バックログから対応する項目」の処理
| 状態 | 移動先 |
|------|--------|
| 対応済み | backlog-completed.md（共通backlog.mdから削除） |
| 未対応 | そのまま共通backlog.mdに残す |

## 修正対象ファイル

### 1. operations.md
- 「完了時の必須作業」にバックログ整理手順を追加

### 2. サイクル固有バックログテンプレート
- `docs/aidlc/templates/cycle_backlog_template.md` を新規作成

### 3. setup-cycle.md
- サイクル作成時にサイクル固有バックログを作成するよう追加

### 4. construction.md / inception.md
- サイクル中の気づきをサイクル固有バックログに記録する旨を追加

## 非機能要件（NFR）への対応

N/A（プロンプトベースのため）

## 技術選定
- **形式**: Markdown
- **方式**: プロンプト駆動（AIが手順に従って実行）

## 実装上の注意事項
- 共通バックログへの反映はマージ直前に行う（コンフリクト最小化）
- 完了判定は保守的に（不明な場合は未対応として共通へ）
- サイクル固有バックログはサイクル成果物として残す（履歴）

## 不明点と質問（設計中に記録）

（なし - 対話で方針決定済み）
