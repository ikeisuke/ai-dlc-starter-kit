# Unit 3: セットアップ分離

## 概要
初回セットアップ（プロジェクト設定生成）とサイクル開始（サイクル設定生成）を分離し、設定ファイル生成を実装する

## 含まれるユーザーストーリー
- ストーリー 4.1: セットアップ処理の分離

## 責務
- 初回セットアップ処理の実装
  - プロジェクト設定ファイル（`docs/aidlc/config.md`）の生成
  - 共通プロンプト・テンプレートの生成
- サイクル開始処理の実装
  - サイクル設定ファイル（`docs/cycles/vX/config.md`）の生成
  - サイクルディレクトリ構造の作成
- 初回/継続の判定ロジック

## 成果物
- `prompts/setup-init.md`（初回セットアップ用プロンプト）
- `prompts/setup-cycle.md`（サイクル開始用プロンプト）
- `prompts/setup-prompt.md`（エントリーポイント、分岐処理）
- 設定ファイルテンプレート

## 境界
- セットアップ処理の分離と設定ファイル生成
- フェーズプロンプトの修正は含まない（Unit 4で実施）

## 依存関係

### 依存するUnit
- Unit 2: 設定アーキテクチャ設計（設定ファイルの構造定義）

### 後続Unit
- Unit 4: フェーズプロンプト改修

## 非機能要件（NFR）
- **パフォーマンス**: サイクル開始が高速化（初回処理をスキップ）
- **ユーザビリティ**: 初回/継続を自動判定、ユーザーの手間を削減

## 技術的考慮事項
- 初回/継続の判定方法:
  1. `docs/aidlc/config.md` の有無で判断
  2. `docs/aidlc/version.txt` の有無で判断（従来方式との互換性）
- 既存プロジェクトへの移行パス
- プロジェクト設定のデフォルト値をどこに定義するか

## 実装優先度
High

## 見積もり
2時間
