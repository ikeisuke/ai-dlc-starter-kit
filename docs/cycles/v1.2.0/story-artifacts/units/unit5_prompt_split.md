# Unit 5: プロンプト分割・短縮化

## 概要
大きなフェーズプロンプトを小さなファイルに分割し、AIが確実にプロンプト内容を読むようにする

## 含まれるユーザーストーリー
- ストーリー 5.1: プロンプトの分割・短縮化

## 責務
- 各フェーズプロンプトを機能単位に分割
- ステップごとに必要最小限の情報のみ渡す構造へ
- 分割されたプロンプト間の連携方法を確立

## 成果物
- `docs/aidlc/prompts/inception/` ディレクトリ
  - `init.md`（初期化、設定読み込み）
  - `flow.md`（メインフロー）
  - `complete.md`（完了処理）
- `docs/aidlc/prompts/construction/` ディレクトリ
  - `init.md`
  - `design.md`（設計フェーズ）
  - `implement.md`（実装フェーズ）
  - `complete.md`
- `docs/aidlc/prompts/operations/` ディレクトリ
  - `init.md`
  - `flow.md`
  - `complete.md`
- 対応するテンプレートファイル（`prompts/setup/` 配下）

## 境界
- プロンプトの分割と短縮化
- 内容の大幅な変更は含まない（構造の変更のみ）

## 依存関係

### 依存するUnit
- Unit 4: フェーズプロンプト改修（改修されたプロンプトを分割）

### 後続Unit
- なし（このUnitで主要な改修は完了）

## 非機能要件（NFR）
- **信頼性**: AIがプロンプト全体を確実に読む
- **メンテナンス性**: 小さなファイルは変更・レビューが容易
- **互換性**: Claude Code以外のAIツールでも安定動作

## 技術的考慮事項
- 分割粒度の選択:
  1. フェーズ × ステップ（init / flow / complete）
  2. フェーズ × 機能（設計 / 実装 / テスト）
  3. より細かい粒度（各ステップをさらに分割）
- プロンプト間の状態引き継ぎ方法
- ユーザーへの案内（どのプロンプトを読むべきか）
- 既存の大きなプロンプトとの互換性（移行期間）

## 実装優先度
High

## 見積もり
3時間
