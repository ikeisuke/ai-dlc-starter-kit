# Unit 2: 設定アーキテクチャ設計 - 計画

## 概要
設定の階層構造、ファイル形式、ライフサイクル全体での流れを定義するアーキテクチャ設計ドキュメントを作成する。

## 成果物
- `docs/cycles/v1.2.0/design-artifacts/architecture/config_architecture.md`

## 実行ステップ

### Phase 1: 設計（対話形式）

#### ステップ 1: 設定の階層構造設計
- **目的**: 設定の2層構造（プロジェクト設定 / サイクル設定）を定義
- **内容**:
  - プロジェクト固定設定の項目と配置場所
  - サイクル固有設定の項目と配置場所
  - 設定の「ハード/ソフト」分類の表現方法
- **対話**: 不明点は [Question] / [Answer] 形式でユーザーと確認

#### ステップ 2: 設定ファイル形式・スキーマ設計
- **目的**: 設定ファイルの形式とスキーマを定義
- **内容**:
  - ファイル形式の決定（Markdown / YAML / ハイブリッド）
  - 各設定ファイルのスキーマ定義
  - AIが読みやすく、人間も編集しやすい形式の選択
- **対話**: 形式選択についてユーザーと確認

#### ステップ 3: タイミング別フロー設計
- **目的**: 設定の継承・上書きルールと、書き込み/読み込みタイミングを定義
- **内容**:
  - セットアップ時のフロー
  - フェーズ実行時のフロー
  - 変数置換廃止の移行方針
- **対話**: フローについてユーザーと確認

#### ステップ 4: 設計レビュー
- **目的**: 設計内容の最終確認と承認
- **成果物作成**: `config_architecture.md` を作成
- **ユーザー承認**: 設計内容を提示し承認を得る

### Phase 2: 実装
- **このUnitでは実装は行わない**
- 実装は後続Unit（Unit 3: セットアップ分離、Unit 4: フェーズプロンプト改修）で実施

## 完了基準
- 設定アーキテクチャ設計ドキュメントが完成
- 設計内容がユーザーに承認されている
- progress.md が更新されている

## 見積もり
1時間

## 注意事項
- コードは書かず、設計ドキュメントの作成のみ
- 一問一答形式で対話しながら設計を進める
- 後続Unitの実装指針となる明確な設計を目指す
