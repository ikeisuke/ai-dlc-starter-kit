# Unit 002: コード記述制限ルール追加 - 実装記録

## 概要

Construction Phase以外でのコード記述を制限するルールを各フェーズプロンプトに追加した。

## 実装内容

### 変更ファイル

| ファイル | 変更内容 |
|----------|----------|
| `prompts/package/prompts/construction.md` | 「フェーズの責務【重要】」セクション追加 |
| `prompts/package/prompts/operations.md` | 「フェーズの責務【重要】」セクション追加 |
| `prompts/package/prompts/inception.md` | 変更なし（既存ルールで十分） |

### 追加したルール

#### construction.md

- Phase 1（設計フェーズ）での成果物コード禁止
- Phase 1での例外許可（EDA、ライブラリ確認、API調査）
- Phase 2（実装フェーズ）でのコード生成許可
- 設計承認なしでのPhase 2移行禁止

#### operations.md

- 許可されるコード記述（CI/CD、デプロイスクリプト、監視設定、IaC）
- 禁止事項（アプリケーションロジック変更、新機能実装）
- 緊急バグ修正時の対応フロー

## 設計判断

### 設計フェーズでの例外許可

ユーザーとの対話で、設計判断のための探索的データ分析（EDA）やライブラリ動作確認は許可すべきという判断に至った。これらは成果物としてのコードではなく、設計ドキュメントに反映するための調査である。

## テスト

N/A（プロンプトファイルの変更のため自動テスト対象外）

## 完了状態

- [x] construction.md への追記
- [x] operations.md への追記
- [x] 設計ドキュメント作成
- [x] 実装記録作成

## 完了日

2025-12-20
