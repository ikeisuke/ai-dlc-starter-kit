# 論理設計: その他のAIツール対応ドキュメント

## 概要

Claude Code以外のAIツール（Codex CLI、Gemini CLI、KiroCLI）でスキルを利用するためのドキュメント構成とセクション設計を行う。Claude Codeは比較参照として記載するが、新規対応は行わない。

**重要**: このUnitはドキュメント作成が主目的のため、コードは生成せず、ドキュメント構造の設計のみを行う。

## スコープ

### 対象（本Unitで新規対応）

- Codex CLI
- Gemini CLI
- KiroCLI

### 対象外（既存対応済み、比較参照のみ）

- Claude Code（Unit 001/002で対応済み）

### スコープ外

- MCP（Model Context Protocol）の詳細説明（既存ドキュメントで十分に説明済み）
- AIレビュー機能の設定方法（Unit 004で対応）

## ドキュメント構成

### 成果物一覧

```text
prompts/package/
├── prompts/
│   └── AGENTS.md                    # 既存: AIツール対応セクション拡充
└── guides/
    └── skill-usage-guide.md         # 新規: スキル利用ガイド
```

### 各ドキュメントの責務

#### AGENTS.md（更新）

- **責務**: AI-DLCの総合的な案内とツール別設定方法
- **更新内容**: 既存のKiroCLI対応セクションを「AIツール対応」として拡充
- **対象読者**: 各種AIツールでAI-DLCを利用するユーザー

#### skill-usage-guide.md（新規）

- **責務**: スキルファイルの利用方法を詳細に説明
- **対象読者**: スキルを活用したい上級ユーザー
- **内容概要**:
  - スキルとは何か
  - 各ツールでの利用方法
  - カスタムスキルの作成方法（将来拡張用）

## ドキュメント詳細設計

### AGENTS.md 更新部分

**追加/更新するセクション**:

```markdown
## AIツール対応

### Claude Code
- スキルの自動検出
- Skillツールの使用方法

### Codex CLI
- プロジェクト指定方法
- スキルファイル参照方法

### Gemini CLI
- プロジェクト指定方法
- スキルファイル参照方法

### KiroCLI
- resources設定
- 設定ファイルの配置場所
```

**既存のKiroCLI対応セクション**: 残存させ、上記構成に統合

### skill-usage-guide.md 構成

```markdown
# スキル利用ガイド

## スキルとは
- スキルファイルの役割
- ファイル形式（YAML frontmatter + Markdown）

## スキルの配置場所
- セットアップ後の配置先
- 利用可能なスキル一覧

## 各AIツールでの利用方法

### Claude Code
- Skillツール経由での呼び出し
- プロジェクトローカル/グローバル設定

### Codex CLI
- コマンド例
- プロジェクト指定オプション

### Gemini CLI
- コマンド例
- プロジェクト指定オプション

### KiroCLI
- resources設定例
- エージェント設定ファイルの場所

## トラブルシューティング
- よくある問題と解決策
```

## 非機能要件（NFR）への対応

### スケーラビリティ

- **要件**: 新しいAIツール追加時に拡張可能な構成
- **対応策**: ツール別セクションを独立して記載し、追加が容易な構造に

### 保守性

- **要件**: ドキュメントの更新しやすさ
- **対応策**: 各ツールの情報を明確に分離し、部分更新が可能な構造に

## 実装上の注意事項

- 各ツールの公式ドキュメントへのリンクを含める
- バージョン依存の情報には注意書きを付ける
- 具体的なコマンド例を必ず含める
- エラーケースと対処法を明記する

## ドキュメント間の関係とナビゲーション

### 情報の配置ルール

| 情報種類 | 配置先 | 理由 |
|---------|--------|------|
| AI-DLCの開始方法、フェーズ概要 | AGENTS.md | エントリーポイントとして維持 |
| 各ツールの概要・制約（1-2行） | AGENTS.md | クイックリファレンス |
| 各ツールの詳細手順・コマンド例 | skill-usage-guide.md | 詳細情報は専用ガイドに集約 |
| スキルファイルの仕様・形式 | skill-usage-guide.md | 技術詳細は専用ガイドに集約 |

### 相互参照ルール

- AGENTS.mdの各ツール節から skill-usage-guide.md へリンク
- skill-usage-guide.md の冒頭で AGENTS.md への戻りリンクを配置
- コマンド例の重複は避け、一方で定義し他方から参照

### 更新時の所有権

| ドキュメント | 更新責任 |
|-------------|----------|
| AGENTS.md | AI-DLC全体の変更時 |
| skill-usage-guide.md | スキル・ツール固有の変更時 |

## 検証済みバージョン

ドキュメント作成時に検証したツールバージョンを記録する:

| ツール | 検証バージョン | 検証日 |
|--------|---------------|--------|
| Codex CLI | - | - |
| Gemini CLI | - | - |
| KiroCLI | - | - |

**注**: 実装フェーズで各ツールのバージョンを確認し、この表を更新する。

## 受け入れ基準（Acceptance Criteria）

このUnitの完了判定に使用するチェックリスト:

### 必須項目

- [ ] skill-usage-guide.md が作成されている
- [ ] AGENTS.md に各ツールの概要セクションが追加されている
- [ ] 各ツール（Codex/Gemini/KiroCLI）について:
  - [ ] スキル参照方法の説明がある
  - [ ] 具体的なコマンド例またはスクリプト例がある
  - [ ] 制約事項が明記されている
- [ ] スキルファイルの配置場所（`docs/aidlc/skills/`）が明記されている
- [ ] AGENTS.md と skill-usage-guide.md の相互リンクがある

### 推奨項目

- [ ] トラブルシューティングセクションがある
- [ ] 公式ドキュメントへのリンクがある
- [ ] 検証済みバージョン情報が記載されている

## 不明点と質問

現時点で不明点はありません。

---

*作成日: 2026-01-20*
*更新日: 2026-01-20*（AIレビュー指摘反映）
