# ユーザーストーリー

## Epic 1: セットアップフロー改善

### ストーリー 1: ブランチ・ワークツリー同時作成
**優先順位**: Must-have

As a 開発者
I want to サイクル開始時にブランチ作成とワークツリー作成を一括で実行したい
So that セットアップ手順が簡略化され、操作ミスが減る

**受け入れ基準**:
- [ ] setup.mdでブランチ作成とワークツリー作成を同時に行えるオプションがある
- [ ] 選択肢が明確で、ユーザーが迷わない
- [ ] 既存のworktree/ブランチ操作との互換性が保たれている

**技術的考慮事項**:
- `git worktree add` は新規ブランチを同時に作成可能
- 既存ブランチがある場合の挙動を考慮

---

### ストーリー 2: lsコマンドの出力修正
**優先順位**: Should-have

As a 開発者
I want to setup.mdの`ls -d`コマンド出力でスラッシュが二重にならない
So that 表示がクリーンになる

**受け入れ基準**:
- [ ] `docs/cycles/v1.0.1/` のようにスラッシュが1つだけ表示される
- [ ] 既存の動作（ディレクトリ一覧取得）は維持される

---

## Epic 2: Claude Code固有機能の活用

### ストーリー 3: AskUserQuestion機能の活用
**優先順位**: Must-have

As a 開発者
I want to AI-DLCの質問でAskUserQuestion機能が使われる
So that 選択肢が明確になり、回答が簡単になる

**受け入れ基準**:
- [ ] CLAUDE.mdにAskUserQuestion活用ルールが記載されている
- [ ] 選択肢が明確な場合はAskUserQuestion、自由回答はテキストという使い分けが明記されている

---

### ストーリー 4: AGENTS.mdによるプロンプト自動解決
**優先順位**: Should-have

As a 開発者
I want to プロンプトファイルを明示的に指定しなくてもフェーズを開始したい
So that 操作手順が減り、スムーズに開発を進められる

**受け入れ基準**:
- [ ] AGENTS.mdの記載でAIが適切なプロンプトを自動読み込みできることが検証されている
- [ ] 検証結果がドキュメント化されている

---

## Epic 3: レビュー・コミットワークフロー改善

### ストーリー 5: レビュー前後のコミット
**優先順位**: Must-have

As a 開発者
I want to レビュー前後に自動的にコミットが作成される
So that レビュー前後の差分が明確になり、履歴が追跡しやすくなる

**受け入れ基準**:
- [ ] 各プロンプト（inception.md, construction.md, operations.md）にレビュー前後のコミット手順が追加されている
- [ ] コミットメッセージの形式が統一されている

---

## Epic 4: リリース管理の整備

### ストーリー 6: CHANGELOG.md作成
**優先順位**: Must-have

As a 開発者・ユーザー
I want to 各バージョンの変更内容をCHANGELOG.mdで確認したい
So that アップグレード時の影響を把握できる

**受け入れ基準**:
- [ ] CHANGELOG.mdが作成されている
- [ ] v1.0.0以降の全バージョンの変更履歴が記載されている
- [ ] Keep a Changelog形式（またはそれに準じた形式）で記載されている

**技術的考慮事項**:
- 過去サイクルのhistory/やPRから変更内容を抽出

---

### ストーリー 7: バージョンタグ付け（過去分）
**優先順位**: Must-have

As a 開発者・ユーザー
I want to 各バージョンにgitタグが付与されている
So that 特定バージョンへのチェックアウトやdiffが容易になる

**受け入れ基準**:
- [ ] v1.0.0以降のタグがないバージョンにタグが付与されている
- [ ] タグはセマンティックバージョニング形式（v1.x.x）

---

### ストーリー 8: Operations Phaseへのタグ付け手順追加
**優先順位**: Must-have

As a 開発者
I want to Operations Phase完了時にタグ付けが手順に含まれている
So that リリース時に必ずタグが付与される

**受け入れ基準**:
- [ ] operations.mdにタグ付け手順が追加されている
- [ ] CHANGELOG.md更新手順も追加されている
