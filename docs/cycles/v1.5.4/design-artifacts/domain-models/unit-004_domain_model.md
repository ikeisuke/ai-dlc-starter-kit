# ドメインモデル: UnitブランチPR自動作成

## 概要

Unitブランチ作成時にドラフトPRを自動作成するワークフローの概念モデルを定義する。

**重要**: このドメインモデル設計では**コードは書かず**、構造と責務の定義のみを行います。実装はプロンプトファイル（Markdown）の修正として行います。

## 注記

このUnitはプロンプトファイル（`prompts/package/prompts/construction.md`）の修正のみで、実装コード（TypeScript、Python等）は不要です。そのため、従来のエンティティ・値オブジェクト・集約といったDDDパターンは適用せず、概念モデルとして定義します。

## 概念モデル

### Unitブランチ（Unit Branch）

- **定義**: 特定のUnitの作業を行うためのGitブランチ
- **命名規則**: `cycle/{{CYCLE}}/unit-{NNN}`
- **ライフサイクル**:
  1. Unit開始時に作成
  2. Unit完了時にサイクルブランチにマージ
  3. マージ後に削除

### ドラフトPR（Draft Pull Request）

- **定義**: Unitブランチからサイクルブランチへの変更をレビューするためのPR（ドラフト状態）
- **目的**:
  - 早期のコードレビュー開始を可能にする
  - Unit作業の進捗を可視化する
  - チームメンバーへの作業開始通知
- **属性**:
  - **タイトル**: `[Draft][Unit {NNN}] {Unit名}`
  - **ボディ**: Unit定義の概要を含む
  - **ベースブランチ**: サイクルブランチ（`cycle/{{CYCLE}}`）
  - **ヘッドブランチ**: Unitブランチ（`cycle/{{CYCLE}}/unit-{NNN}`）
  - **状態**: ドラフト（`--draft`フラグ）

### PRタイトル（PR Title）

- **形式**: `[Draft][Unit {NNN}] {Unit名}`
- **構成要素**:
  - `[Draft]`: ドラフト状態を明示するプレフィックス
  - `[Unit {NNN}]`: Unit番号（3桁ゼロ埋め）
  - `{Unit名}`: Unit定義ファイルから取得した名前

### PRボディ（PR Body）

- **構成**:
  - Unit概要（Unit定義の「概要」セクションから抽出）
  - 作業中であることの明示
- **テンプレート**:
  ```markdown
  ## Unit概要
  [Unit定義から抽出した概要]

  ---
  :construction: このPRは作業中です。Unit完了時にレビュー依頼を行います。
  ```

## ワークフロー

```
Unitブランチ作成
    ↓
git checkout -b "cycle/{{CYCLE}}/unit-{NNN}"
    ↓
git push -u origin "..."
    ↓
gh pr create --draft --base "cycle/{{CYCLE}}" --title "..." --body "..."
    ↓
PR URL表示
```

## ユビキタス言語

- **Unitブランチ**: Unit単位の作業を行うためのブランチ
- **ドラフトPR**: レビュー依頼前の作業中PR
- **サイクルブランチ**: 開発サイクル全体のベースブランチ

## 不明点と質問（設計中に記録）

なし（要件が明確）
