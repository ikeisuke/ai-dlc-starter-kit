# Unit: macOS互換性修正

## 概要
setup.mdおよび他のプロンプトファイルでGNU grep固有のオプション（`-oP`）が使用されている箇所をPOSIX互換コマンドに置き換え、macOS環境での正常動作を保証する。

## 含まれるユーザーストーリー
- ストーリー2: macOS環境での正常動作

## 責務
- プロンプトファイル内の `grep -oP` を `grep -E | sed` または `awk` に置き換え
- 全プロンプトファイルのPOSIX互換性確認

## 境界
- macOS固有の機能追加は行わない
- 既存の動作を変更しない（互換性修正のみ）

## 依存関係

### 依存する Unit
- なし（独立して実装可能）

### 外部依存
- なし

## 非機能要件（NFR）
- **パフォーマンス**: 既存と同等
- **セキュリティ**: N/A
- **スケーラビリティ**: N/A
- **可用性**: N/A

## 技術的考慮事項
- `grep -oP 'pattern\K...'` は Perl正規表現（GNU grep固有）
- macOSはBSD grepを使用するため、POSIXオプションのみ使用可能
- 代替案: `grep -E 'pattern' | sed 's/...//'` または `awk`

## 実装優先度
High

## 見積もり
1時間

---
## 実装状態

- **状態**: 完了
- **開始日**: 2026-01-08
- **完了日**: 2026-01-08
- **担当**: AI

**注記**: v1.5.3 の Unit 001（シェル互換性修正）で `grep -oP` → `grep -E | sed` への置き換えが完了済み。v1.5.4 での追加修正は不要と確認。
