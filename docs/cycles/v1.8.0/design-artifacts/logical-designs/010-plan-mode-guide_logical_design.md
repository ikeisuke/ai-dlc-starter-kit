# 論理設計: プランモード活用ガイド

## ドキュメント仕様

### ファイル情報

| 項目 | 値 |
|------|-----|
| ファイル名 | `plan-mode.md` |
| 配置先 | `prompts/package/guides/` |
| 形式 | Markdown |
| 想定読者 | AI-DLC利用者、Claude Code利用者 |

### スコープ宣言

ガイド冒頭に以下を記載:

```markdown
> **対象ツール**: Claude Code専用
>
> このガイドはClaude CodeのEnterPlanMode機能を前提としています。
> 他のAIエージェントツール（Cursor、Codex CLI等）では動作しません。
```

### セクション構成

#### 1. プランモードとは

**目的**: プランモードの概要と利点を説明

**内容**:

- 概要: 実装前に計画を立案するClaude Codeの機能
- メリット:
  - コードベース探索による理解向上
  - 設計前のアプローチ検討
  - ユーザーとの認識合わせ

#### 2. 使い方

**目的**: 具体的な操作方法を説明

**内容**:

- EnterPlanMode: プランモードへの移行
- ExitPlanMode: プランモードからの終了（ユーザー承認後）
- 利用可能なツール: 読み取り系（Read, Grep, Glob等）のみ

#### 3. AI-DLCでの活用シーン

**目的**: AI-DLCワークフローでの具体的な活用方法を説明

**内容**:

- **推奨ケース**:
  - 複雑なUnit実装前のアプローチ検討
  - 既存コードの理解が必要な場合
  - 複数の実装選択肢がある場合
- **非推奨ケース**:
  - 指示が明確な場合
  - 軽微な修正（タイポ、一行修正等）
  - 純粋なリサーチ（Task/Exploreを使用）
- **Phase 1との関係**:
  - プランモードはPhase 1の「前」に位置づけ
  - 探索結果をPhase 1のドメインモデル・論理設計に反映

#### 4. 注意事項

**目的**: 利用時の制約と注意点を説明

**内容**:

- プランモード中の制約
  - 編集系ツール（Edit, Write等）が使用不可
  - 読み取り・検索系ツールのみ使用可能
- 承認フローの関係
  - プランモード承認 ≠ AI-DLC Phase 1設計承認
  - 両方の承認プロセスが必要
- Task/Exploreとの使い分け
  - プランモード: 実装計画策定のための探索
  - Task/Explore: 情報収集のみを目的とした探索

### スタイルガイド

- 既存ガイド（`subagent-usage.md`）に倣ったスコープ宣言
- 表形式での比較・整理（推奨/非推奨ケース）
- v1.7.2検討結果との整合性を維持

## 依存関係

- v1.7.2 `plan-mode-research.md`: 検討結果の参照元

## テスト観点

- Markdownlintでのエラーチェック
- リンク切れがないこと
- 既存ガイドとの整合性（スコープ宣言形式）
- v1.7.2検討結果との整合性
