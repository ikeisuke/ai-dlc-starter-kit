# Unit 004: jjサポートの改善 - ドメインモデル設計

## 概要

jjサポートガイド（`jj-support.md`）の構造改善に関するドメインモデル設計。

## ドメイン概念

### 1. jjワークフロー

jjを使用したAI-DLC開発における作業フローの概念。

| 概念 | 説明 |
|------|------|
| 作業開始 | Unit/フェーズ開始時のjj操作 |
| 作業中 | 開発作業中のjj操作（既存セクションでカバー済み） |
| 作業終了 | Unit/フェーズ完了時のjj操作 |

### 2. bookmark管理

jjにおけるbookmark（Gitのブランチに相当）の管理概念。

| 概念 | 説明 |
|------|------|
| bookmark作成 | 新しいbookmarkの作成 |
| bookmark移動 | bookmarkを新しいリビジョンに進める |
| bookmark同期 | リモートとのbookmark同期 |

**重要な違い（Git vs jj）**:
- Git: ブランチは自動的にHEADに追従
- jj: bookmarkは手動で移動が必要

### 3. Unit境界

AI-DLCにおけるUnit開始・終了の境界概念。

| 境界 | jj操作 |
|------|--------|
| Unit開始 | cycle bookmarkから新しいchangeを作成 |
| Unit終了 | describe → new → bookmark set → push |

## ドキュメント構造

### 現在の構造

```text
jj-support.md
├── 概要
├── 前提条件
├── gitとjjの考え方の違い
├── jjの特徴と利点
├── Git/jjコマンド対照表
├── AI-DLCワークフローでの使用方法
├── 注意事項と制限
└── 参考リンク
```

### 追加・変更する構造

```text
jj-support.md
├── 概要
├── ⚠️ 重要: bookmarkは自動で進まない【新規追加】
├── 推奨設定【新規追加】
├── 前提条件
├── gitとjjの考え方の違い
├── jjの特徴と利点
├── Git/jjコマンド対照表
├── AI-DLCワークフローでの使用方法
│   ├── 作業開始時チェックリスト【新規追加】
│   ├── Setup Phase
│   ├── Inception Phase
│   ├── Construction Phase
│   ├── Operations Phase
│   └── 作業終了時チェックリスト【新規追加】
├── 注意事項と制限
└── 参考リンク
```

## 設計判断

### 警告の配置

「bookmarkは自動で進まない」という重要な警告を、ドキュメントの冒頭（概要の直後）に配置する。

**理由**: 最も重要な情報であり、読み飛ばされないよう目立つ位置に配置する必要がある。

### チェックリストの形式

作業開始・終了時のチェックリストを「AI-DLCワークフローでの使用方法」セクション内に配置する。

**理由**: ワークフローのコンテキストで確認できるようにするため。

### 推奨設定の位置

推奨設定を警告の直後に配置する。

**理由**: 警告を読んだ後、すぐに対策（設定）を確認できるようにするため。
