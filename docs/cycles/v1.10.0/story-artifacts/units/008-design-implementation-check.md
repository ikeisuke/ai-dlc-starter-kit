# Unit: 設計・実装整合性チェック

## 概要
Unit完了時に設計ドキュメント（ドメインモデル・論理設計）と実際の実装コードの整合性をチェックする機能を追加する。

## 含まれるユーザーストーリー
- ストーリー 8: 設計・実装整合性チェック (#106)

## 責務
- Construction Phaseへの整合性チェックフロー追加
- Unit完了時チェックリストへの項目追加
- 乖離検出時の警告・修正促進フロー
- 各フェーズでのAIレビュー実施確認フロー追加（追加要件）

## 境界
- 自動的なコード修正は行わない
- 設計ドキュメントの自動更新は行わない

## 依存関係

### 依存する Unit
- なし

### 外部依存
- なし

## 非機能要件（NFR）
- **パフォーマンス**: 該当なし
- **セキュリティ**: 該当なし
- **スケーラビリティ**: 該当なし
- **可用性**: 該当なし

## 技術的考慮事項
- 対象ファイル: `prompts/package/prompts/construction.md`
- 対象設計ドキュメント:
  - `docs/cycles/{{CYCLE}}/design-artifacts/domain-models/`
  - `docs/cycles/{{CYCLE}}/design-artifacts/logical-designs/`

**AIレビュー指摘への対応（Unit定義で特定）**:
- 整合性チェック項目:
  1. ドメインモデルで定義したエンティティが実装に存在するか
  2. 論理設計で定義したインターフェースが実装されているか
  3. 設計で定義した依存関係が実装で守られているか
  4. 設計変更があった場合、設計ドキュメントが更新されているか

- チェックフロー:
  ```text
  【設計・実装整合性チェック】

  以下の観点で設計と実装の整合性を確認しました：
  1. エンティティの実装: [結果]
  2. インターフェースの実装: [結果]
  3. 依存関係: [結果]
  4. 設計ドキュメントの更新: [結果]

  [乖離がある場合]
  警告: 以下の乖離が検出されました。
  - [乖離内容]

  修正方針を選択してください：
  1. 実装を修正する
  2. 設計ドキュメントを更新する
  3. 乖離を許容する（理由を記録）
  ```

## 実装優先度
Medium

## 見積もり
小規模（プロンプト修正）

---
## 実装状態

- **状態**: 完了
- **開始日**: 2026-01-27
- **完了日**: 2026-01-27
- **担当**: Claude
