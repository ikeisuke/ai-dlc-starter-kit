# Unit 005 計画: Issueテンプレート差分確認機能

## 概要

Issueテンプレートのコピー前に差分を確認し、変更がある場合のみユーザーに確認を求める機能を追加する。

## 変更対象ファイル

| ファイル | 変更内容 |
|----------|----------|
| `prompts/setup-prompt.md` | セクション8.2.5の差分確認ロジック追加 |

## 実装計画

### Phase 1: 設計

1. **ドメインモデル設計**: 差分確認の処理フローを定義
2. **論理設計**: bashスクリプトの詳細ロジックを設計

### Phase 2: 実装

1. **コード生成**: `prompts/setup-prompt.md` のセクション8.2.5を修正
   - 差分確認ロジックの追加
   - 差分がない場合のスキップ処理
   - 差分がある場合のユーザー確認フロー

### 処理フロー（設計案）

```text
1. ソースディレクトリとターゲットディレクトリの存在確認
2. ターゲットが存在しない場合 → 従来通りコピー
3. ターゲットが存在する場合:
   a. diff -q で各ファイルの差分を確認
   b. 差分がない場合 → スキップメッセージを表示して終了
   c. 差分がある場合:
      - 差分ファイル一覧を表示
      - ユーザーに選択肢を提示:
        1. 上書きする（推奨）
        2. スキップする
        3. 差分を確認してから決める
```

## 完了条件チェックリスト

- [ ] Issueテンプレートの差分確認ロジックが追加されている
- [ ] 差分がない場合のスキップ処理が実装されている
- [ ] 差分がある場合のユーザー確認フローが実装されている
