# 実装記録: プレリリースバージョン対応

## 概要

Unit 003: `init-cycle-dir.sh` のバージョン形式チェックを緩和し、プレリリースバージョンや任意の文字列を受け入れるようにした。

## 関連Issue

- #88: [Enhancement] init-cycle-dir.sh でプレリリースバージョンをサポート

## 実装日

2026-01-26

## 変更ファイル

| ファイル | 変更内容 |
|----------|----------|
| `prompts/package/bin/init-cycle-dir.sh` | `validate_version()` 関数修正、ヘルプメッセージ更新 |

## 変更詳細

### validate_version() 関数

**変更前**:
- `^v[0-9]+\.[0-9]+\.[0-9]+$` の正規表現でバリデーション

**変更後**:
- 空文字チェック
- スラッシュ含有チェック
- それ以外は許容

### ヘルプメッセージ

引数説明を「サイクルバージョン（例: v1.8.0）」から「サイクル識別子（例: v1.8.0, v2.0.0-alpha.1, feature-test）」に更新。

## テスト結果

| テストケース | 入力 | 期待結果 | 実際結果 |
|-------------|------|----------|----------|
| 標準形式 | `v1.8.0` | 成功 | 成功 |
| プレリリース | `v2.0.0-alpha.4` | 成功 | 成功 |
| 任意識別子 | `feature-branch` | 成功 | 成功 |
| 空文字 | `` | 拒否 | 拒否 |
| スラッシュ含有 | `v1.8/test` | 拒否 | 拒否 |

## 完了条件の確認

- [x] バージョン形式の正規表現チェックを削除
- [x] 空文字チェックのみ残す
- [x] プレリリースバージョン（例: `v2.0.0-alpha.4`）が受け入れられる
- [x] 任意の文字列（例: `feature-branch`）が受け入れられる
- [x] 空文字は拒否される
- [x] スラッシュを含む文字列は拒否される（パス安全性のため）

## 状態

**完了**
