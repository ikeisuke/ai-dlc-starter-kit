# ドメインモデル: Inception Phase ドラフトPR作成

## 概要
Inception Phase完了時にドラフトPRを自動作成する機能の責務と構造を定義する。

**重要**: このドメインモデル設計では**コードは書かず**、構造と責務の定義のみを行います。

## ドメイン概念

### ドラフトPR作成プロセス
Inception Phase完了後、開発者がConstruction Phaseに進む前に、mainブランチへのドラフトPRを作成する。これにより、並行開発の準備が整い、進捗の可視化が可能になる。

## 責務定義

### 1. 前提条件チェック
- **責務**: ドラフトPR作成に必要な条件が満たされているか確認
- **チェック項目**:
  - GitHub CLI（gh）がインストールされているか
  - GitHub認証が完了しているか
  - リモートリポジトリが設定されているか
  - 現在のブランチがサイクル用ブランチか

### 2. PR情報生成
- **責務**: PRのタイトルと本文を生成
- **タイトル形式**: `[Draft] サイクル {CYCLE} - {Intent要約}`
- **本文内容**:
  - サイクルの目的（Intentから抽出）
  - 含まれるUnit一覧
  - 注意事項（ドラフトPRである旨）

### 3. ドラフトPR作成実行
- **責務**: gh CLIを使用してドラフトPRを作成
- **コマンド**: `gh pr create --draft --title "..." --body "..."`
- **対象ブランチ**: サイクルブランチ → mainブランチ

### 4. 結果表示
- **責務**: 作成されたPRのURLを表示
- **成功時**: PR URLを提示
- **失敗時**: エラー内容と対処法を提示

## エラーハンドリング

### GitHub CLI利用不可
- **条件**: `gh` コマンドが存在しない
- **対応**: スキップし、手動でのPR作成を案内

### GitHub認証未完了
- **条件**: `gh auth status` が失敗
- **対応**: 認証方法を案内し、スキップ

### リモートリポジトリ未設定
- **条件**: `git remote -v` が空
- **対応**: リモート設定を案内し、スキップ

### 既存PRが存在
- **条件**: 同一ブランチからのPRが既に存在
- **対応**: 既存PRのURLを表示し、新規作成をスキップ

## ユビキタス言語

- **ドラフトPR**: レビュー準備が整っていない作業中のPR
- **サイクルブランチ**: `cycle/{CYCLE}` 形式のブランチ
- **Intent**: サイクルの目的と狙いを記述した文書

## 不明点と質問

なし（Unit定義で明確化済み）
