# Unit 1: バージョン同期の修正 - 実装計画

## 概要

Operations Phase完了時に `starter_kit_version` が正しく更新されない問題を修正

## 問題の原因

`docs/cycles/operations.md` の「メタ開発特有の完了時作業」セクション2に以下の記載がある:

```
# ※ アップグレードモードではセクション4-6（プロジェクト情報収集・aidlc.toml生成）はスキップ
```

しかし `prompts/setup-init.md` のセクション構成は:
- セクション5: プロジェクト情報の収集【初回のみ】
- セクション6: aidlc.toml の生成【初回のみ】
  - 6.1: ディレクトリ作成【初回のみ】
  - 6.2: aidlc.toml の内容【初回のみ】
  - **6.3: starter_kit_versionの更新【アップグレードモードのみ】**

セクション6.3だけはアップグレードモードで**実行すべき**処理だが、「セクション4-6はスキップ」の記述により誤ってスキップされている。

## 対応内容

### 対象ファイル

1. `docs/cycles/operations.md`（運用引き継ぎ情報）
   - 変更: セクション2の手順説明を修正

### 変更概要

**修正前**:
```markdown
### 2. setup-init実行（アップグレードモード）
`prompts/setup-init.md` をアップグレードモードで実行し、`docs/aidlc/` を最新化:

```bash
# setup-init.md を読み込み、セクション7（共通ファイルの配置）を実行
# ※ アップグレードモードではセクション4-6（プロジェクト情報収集・aidlc.toml生成）はスキップ
```
```

**修正後**:
```markdown
### 2. setup-init実行（アップグレードモード）
`prompts/setup-init.md` をアップグレードモードで実行し、`docs/aidlc/` を最新化:

```bash
# setup-init.md を読み込み、以下を実行:
# - セクション6.3（starter_kit_versionの更新）
# - セクション7（共通ファイルの配置）
# ※ セクション5-6.2はアップグレードモードではスキップ
```
```

### 備考

- `docs/cycles/operations.md` はプロジェクト固有ファイルであり、直接編集可能
- `prompts/package/` 配下のファイルは変更不要（setup-init.md自体は正しい）

## 完了基準

- [x] 問題箇所の特定完了
- [ ] ファイル修正
- [ ] 動作確認（ドキュメントの一貫性確認）
- [ ] コミット
