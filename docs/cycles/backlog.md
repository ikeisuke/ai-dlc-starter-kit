# バックログ（サイクル横断）

このファイルは、サイクルを跨いで管理するタスクを記録します。

---

## 延期タスク

### Unit 5: Issue駆動統合設計
- **元サイクル**: v1.0.1
- **延期日**: 2025-11-28
- **延期理由**: AI-DLCがもっと成熟してから導入した方が効果的と判断
- **概要**: GitHub Issuesを活用してAI-DLCサイクルの進捗を可視化・管理する仕組みの設計
- **見積もり**: 10.5時間
- **含まれる内容**:
  - Issue駆動開発統合の検討と設計
  - Issueテンプレート作成（Epic用、Unit用、バグ用、タスク用）
  - Issue駆動フロー定義
- **部分成果物**: `docs/cycles/v1.0.1/design-artifacts/domain-models/unit5_issue_driven_domain_model.md`（ドメインモデル設計途中）
- **再開条件**: AI-DLCの運用が安定し、Issue連携の必要性が明確になった時点

---

## 技術的負債・修正タスク

### Unit作業中の気づき記録フローの定義
- **発見日**: 2025-12-06
- **発見サイクル**: v1.2.1 Construction Phase
- **概要**: Unit作業中に別Unitに関連する気づきがあった場合の動作を定義する
- **詳細**:
  - 現状: Unit作業中に別Unitに関連する改善点や問題点に気づいた場合の動作が未定義
  - 問題: 気づきを記録せずに作業を続けると忘れてしまう、または作業が脱線する
  - 改善案: 気づきをバックログまたは専用の場所に記録し、現在のUnit作業を継続するフローを定義
- **期待効果**: 作業の集中を維持しつつ、気づきを失わない
- **優先度**: 中

### ホームディレクトリにユーザー共通設定を配置可能にする
- **発見日**: 2025-12-06
- **発見サイクル**: v1.2.1 Construction Phase
- **概要**: `~/.aidlc/` などにユーザー固有の共通設定を配置できるようにする
- **詳細**:
  - 現状: 設定はプロジェクトごとに `docs/aidlc/` 配下に配置
  - 要望: 複数プロジェクトで共通して使いたい個人設定（命名規則、コーディングスタイル等）をホームディレクトリに配置
  - 想定パス: `~/.aidlc/config.toml` または `~/.aidlc/additional-rules.md`
  - 読み込み優先順位: ホーム設定 → プロジェクト設定（プロジェクト設定で上書き可能）
- **期待効果**: 複数プロジェクトでの設定の一貫性、セットアップ時間の短縮
- **優先度**: 中

### セットアップ時のファイルコピー判定にハッシュ値を使用
- **発見日**: 2025-12-06
- **発見サイクル**: v1.2.1 Construction Phase
- **概要**: ファイルコピー時にSHA1などのハッシュ値で比較し、変更有無を判定する
- **詳細**:
  - 現状: ファイルコピー時の変更判定方法が明確でない
  - 改善案: コピー元とコピー先のファイルのハッシュ値を比較し、一致していればスキップ、異なれば更新を提案
  - 実装方法: `shasum` または `sha1sum` コマンドでハッシュ値を取得して比較
- **期待効果**: 不要なコピーを避け、意図しない上書きを防止
- **優先度**: 中

---

## 次サイクルで検討するタスク

### v1.0.1 サイクル完了時のフィードバック（2025-11-30）

#### 良かった点
- ファイル分離による見通しの向上（Unit 8: セットアップファイル最適化の成果）
- Inception → Construction → Operations の基本フローは良好

#### 改善点・次サイクルへの課題

| 優先度 | 改善項目 | 詳細 |
|--------|----------|------|
| ~~高~~ | ~~Operations Phase再利用性~~ | ~~CI/CD等は一度構築したらサイクル横断で維持する仕組みが必要~~ **→ v1.1.0で対応済み**（`docs/aidlc/operations/` ディレクトリ導入） |
| ~~高~~ | ~~軽量サイクル（Lite版）~~ | ~~軽いバグ修正向けの簡略フローを実装~~ **→ v1.1.0で対応済み**（`docs/aidlc/prompts/lite/` 導入） |
| ~~中~~ | ~~ブランチ確認機能~~ | ~~セットアップ時にサイクル名がブランチに含まれていない場合、ブランチ切り替えを提案する~~ **→ v1.1.0で対応済み**（`setup-prompt.md` に実装） |
| 低 | Issue駆動統合 | プラグイン化または将来サイクルで検討（ベース機能はシンプルに保つ） |

### v1.0.1 Operations Phase からの検討事項

#### CI/CD 構築
- **検討理由**: v1.0.1 では「手動運用で十分」と判断したが、将来的に規模が拡大した場合に検討
- **想定内容**: Markdown リンター、テンプレート整合性チェック、PR 時の自動レビュー
- **追加方針**: 一度構築したらサイクル横断で再利用できる仕組みとして設計

#### 監視・分析
- **検討理由**: v1.0.1 では「ドキュメントプロジェクトには不要」と判断
- **想定内容**: GitHub Insights によるトラフィック分析、利用状況のトラッキング

---

## 最終更新

**日時**: 2025-12-08
**更新者**: AI（v1.2.3 Inception Phase - 完了済み2項目をbacklog-completed.mdへ移動）

---

## 参照

- 完了済み項目: [backlog-completed.md](./backlog-completed.md)

### 初回セットアップ時のサイクルバージョン提案が不十分
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3
- **概要**: AI-DLC初回でもプロジェクト自体にはバージョンがある場合がある
- **詳細**: package.json、pyproject.toml等のバージョン情報を調査してから提案すべき
- **優先度**: 低

### git worktree を活用したワークフローの提案
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3
- **概要**: git worktree を使って複数サイクルを並行作業できるようにする提案
- **詳細**: セットアップ時に worktree の使用を提案、ディレクトリ構成を案内
- **優先度**: 低

### Construction Phase用progressテンプレートがない
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3
- **概要**: templates/ディレクトリにconstruction_progress_template.mdが存在しない
- **詳細**: inception/operationsは存在するがconstructionのみ欠落
- **優先度**: 中

### コンテキストリセットのタイミング見直し
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3
- **概要**: Unit完了時ではなく開始時にリセットすべき
- **詳細**: 現在のプロンプトではUnit完了時にリセットを提案しているが本来は開始時
- **優先度**: 中

### Unit開始前のバックログ確認がステップ化されていない
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3
- **概要**: 気づき記録フローにバックログ確認があるが「最初に実行すること」に含まれていない
- **詳細**: Construction Phase開始時のステップとして明示化すべき
- **優先度**: 中

### Unit定義ファイルのパス予測が非効率
- **発見日**: 2025-12-08
- **発見サイクル**: v1.2.3
- **概要**: Unit定義ファイルを読み込む際にファイル名を予想して試してエラーになる
- **詳細**: progress.mdにファイルパス列を追加、または命名規則を統一
- **優先度**: 中


### backlog.md/backlog-completed.mdの構造改善
- **発見日**: 2025-12-09
- **発見サイクル**: v1.2.3 Operations Phase
- **概要**: 追記方式でファイル末尾に項目を追加すると構造が崩れる問題
- **詳細**: 現在のファイル構造は「最終更新」セクションがファイル末尾にあるため、heredocで追記すると最終更新の後に項目が追加されてしまう
- **対応案**:
  1. 最終更新セクションをファイル先頭に移動
  2. 項目追加用のセクションをファイル末尾に配置
  3. 追記しても構造が崩れない形式に変更
- **優先度**: 中


### progress.mdの複数人開発時コンフリクト対策
- **発見日**: 2025-12-09
- **発見サイクル**: v1.2.3 Operations Phase
- **概要**: progress.mdを複数人で更新するとコンフリクトが発生する
- **詳細**: 現在のprogress.mdは1ファイルで全進捗を管理しているため、複数人が同時に作業するとマージコンフリクトが起きやすい
- **対応案**:
  1. Unit単位で進捗ファイルを分割（unit1_progress.md等）
  2. 進捗管理をGitHub Issues/PRに移行
  3. ロックファイル方式で排他制御
  4. 進捗情報をJSONにしてマージしやすくする
  5. 各開発者が自分のブランチで作業し、マージ時に統合
- **優先度**: 高

