# AI-DLC Starter Kit v1.0.0 開発Intent

## 背景

現在のバージョン（v0.1.0）では、プロンプトファイルがバージョンごとに生成される構造になっている。
これにより、スターターキットの改善がすべてのバージョンに反映されず、メンテナンス性に課題がある。

## 開発の目的

プロンプトファイルとバージョンごとの成果物を分離し、以下を実現する：

1. **プロンプトの一元管理**: スターターキットの改善がすべてのバージョンに反映される
2. **成果物の分離**: バージョンごとの実装内容は独立して管理される
3. **メンテナンス性向上**: プロンプト更新時に全バージョンを修正する必要がない

## 新しいディレクトリ構造

### 現在の構造（v0.1.0）
```
{DOCS_ROOT}/{VERSION}/
├── prompts/          # バージョンごとに生成（問題点）
├── templates/        # バージョンごとに生成
├── requirements/
├── construction/
└── operations/
```

### 新しい構造（v1.0.0）
```
docs/
├── aidlc/                    # 共通プロンプト（全バージョン共通）
│   ├── prompts/
│   │   ├── common.md
│   │   ├── inception.md
│   │   ├── construction.md
│   │   ├── operations.md
│   │   └── additional-rules.md
│   └── templates/            # 共通テンプレート
│       ├── intent_template.md
│       └── ...
│
└── versions/                 # バージョンごとの成果物
    ├── v1.0.0/
    │   ├── plans/
    │   ├── requirements/
    │   ├── story-artifacts/
    │   ├── design-artifacts/
    │   ├── construction/
    │   │   ├── progress.md   # 進捗管理
    │   │   └── units/
    │   ├── operations/
    │   └── history.md        # 実行履歴
    └── v2.0.0/
        └── ...
```

## 主要な変更点

### 1. プロンプトファイルの共通化
- `docs/aidlc/prompts/` に全バージョン共通のプロンプトを配置
- スターターキット改善時は、このディレクトリのファイルのみ更新すればよい

### 2. テンプレートの共通化
- `docs/aidlc/templates/` に全バージョン共通のテンプレートを配置
- JIT生成は維持しつつ、生成先を共通ディレクトリに変更

### 3. バージョンごとの成果物を分離
- `docs/versions/{VERSION}/` にバージョン固有の成果物を配置
- 実装記録、進捗管理、履歴などバージョン固有の情報のみ

### 4. additional-rules.mdの扱い
- 基本は共通: `docs/aidlc/prompts/additional-rules.md`
- バージョン固有ルールが必要な場合は `docs/versions/{VERSION}/additional-rules.md` も可能（オプション）

## 実装が必要な項目

1. **setup-prompt.mdの変更**
   - 新しい変数の追加（AIDLC_ROOT, VERSIONS_ROOT）
   - ディレクトリ構造の変更
   - プロンプトファイル生成先の変更
   - テンプレート生成先の変更

2. **各フェーズプロンプトの変更**
   - パス参照を新構造に対応
   - `{{AIDLC_ROOT}}/prompts/` と `{{VERSIONS_ROOT}}/{{VERSION}}/` の使い分け

3. **README.mdの更新**
   - 新しいディレクトリ構造の説明
   - セットアップ手順の更新

4. **docs/exampleの移行**
   - 現在の `docs/example/v1/` を新構造に移行
   - プロンプトは `docs/aidlc/prompts/` へ
   - テンプレートは `docs/aidlc/templates/` へ
   - 成果物は `docs/versions/v1/` へ

5. **バージョン管理の更新**
   - VERSIONファイルを 1.0.0 に更新
   - Git タグ v1.0.0 の作成

## 期待される効果

1. **メンテナンス性の向上**: プロンプト更新が1箇所で完結
2. **バージョン管理の明確化**: 成果物とプロンプトが分離され、何がバージョン固有かが明確
3. **スケーラビリティ**: 新バージョン追加時の作業量が削減
4. **一貫性の向上**: すべてのバージョンで同じプロンプトを使用するため、動作が一貫

## 成功基準

1. 新構造でsetup-prompt.mdが正常に動作する
2. Inception/Construction/Operations Phaseが新構造で正常に動作する
3. バージョン間でプロンプトが共有され、成果物のみが分離されている
4. 既存のv0.1.0機能（進捗管理、一問一答、JIT生成等）がすべて動作する
5. ドキュメントが新構造を正確に説明している

## 議論の経緯

- ユーザーから「各プロンプトの管理をバージョンごとに作成ではなく共通化したい」との要望
- `docs/aidlc/` にプロンプト、`docs/versions/v1.0.0` に成果物という構造を提案
- additional-rules.mdは共通とバージョン固有の両方をサポート
- このバージョン（v1.0.0）からAI-DLCを使って開発を進めることを決定
