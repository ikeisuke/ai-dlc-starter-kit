# 追加ルール

このファイルには、プロジェクト固有の追加ルールや制約を記載します。

## 実行前の検証ルール

### Codex MCP レビュー（推奨）
重要な変更を実行する前に、Codex MCP を使用してレビューすることを推奨します。
- コード生成前: 設計の妥当性を検証
- デプロイ前: セキュリティとベストプラクティスを検証

### 指示の妥当性検証
AIが生成した計画やコードについて、以下を人間が検証してください：
- ビジネス要件との整合性
- セキュリティリスク
- パフォーマンスへの影響
- 保守性

## フェーズ固有のルール

### Inception Phase
- ユーザーストーリーは必ず優先順位（MoSCoW法）を付ける
- NFR（非機能要件）を各 Unit に明記する
- 技術的負債や既存システムの制約を明確にする

### Construction Phase
- セキュリティベストプラクティスを遵守する
- テストカバレッジは最低80%を目指す
- コミットは適切な粒度で行う（`common.md` のGit運用を参照）

### Operations Phase
- デプロイ前に必ずステージング環境でテストする
- ロールバック手順を事前に確認する
- インシデント発生時は必ず post_release_operations.md に記録する

## 禁止事項

- [ ] 人間の承認なしに本番環境へデプロイ
- [ ] テストが通らない状態でコミット
- [ ] シークレット情報（API キー、パスワード等）をコードに直接記述
- [ ] セキュリティスキャンをスキップ

## カスタムワークフロー

### コードレビュー
すべてのコード変更は、以下の観点でレビューを実施：
1. セキュリティ
2. コーディング規約
3. エラーハンドリング
4. テストカバレッジ
5. ドキュメント

### 定期的な振り返り
各フェーズ完了時に振り返りを実施し、改善点を次のサイクルに反映させる。

## プロジェクト固有のルール

（ここに、プロジェクト固有の追加ルールを記載してください）
